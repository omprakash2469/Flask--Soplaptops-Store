{% extends 'main/layout.html' %}
{% block body %}

<!-- MAIN SECTION  -->
<main class="py-7">
    <!-- ABOUT HEADING -->
    <div class="heading-box bg-gray-100 py-8 px-4 lg:py-12">
        <h1 class="text-2xl md:w-[720px] md:m-auto lg:w-[90%] xl:w-[1200px]">Welcome! {{session['username']|title()}}
        </h1>
    </div>
    <div class="content-wrapper lg:flex lg:w-[90%] lg:m-auto xl:w-[1200px] xl:py-16">
        <!-- ABOUT SECTION -->
        <div class="content-box md:w-[720px] md:mx-auto lg:w-1/4">
            <ul class="bg-gray-100" id="userTabs">
                <li class="cursor-pointer block p-5 hover:bg-gray-200 transition-all font-semibold bg-gray-200">Dashboard</li>
                <li class="cursor-pointer block p-5 hover:bg-gray-200 transition-all font-semibold">Orders</li>
                <li class="cursor-pointer block p-5 hover:bg-gray-200 transition-all font-semibold">Account</li>
            </ul>
            <a href="{{url_for('users.logout')}}"
                        class="block p-5 hover:bg-gray-200 bg-gray-100 transition-all font-semibold">Logout</a>
        </div>

        <div class="about-info px-4 md:px-0 md:w-[720px] md:m-auto lg:w-3/4 lg:ml-5 lg:my-0 overflow-hidden" id="userBlocks">
            <!-- DASHBOARD -->
            <div class="bg-gray-100 py-6 px-5">
                <h1 class="text-xl mb-12 sm:text-2xl"><span class="underline underline-offset-8">YO</span>UR ACTIVITY</h1>
                <div class="para text-justify sm:text-left">
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum ipsam deleniti dolorem natus,
                        suscipit perferendis doloribus facere minima tenetur, quibusdam minus numquam a corporis
                        molestias ut, quos consectetur. Error, minima! <br></p>
                    <br>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Pariatur officiis consequatur nulla
                        nesciunt tempore consequuntur quos ea amet eligendi adipisci praesentium reiciendis rec
                        exercitationem inventoreeniet libero! Recusandae, laborum optio! Omnis assumenda illum rerum
                        explicabo, dolorem alias atque doloremque quasi quos, consectetur veritatis maxime numquam vero.
                        Voluptatibus quasi magnam ratione laborum quod aut nobis assumenda vel rerum </p>
                </div>
            </div>

            <!-- ORDERS -->
            <div class="mx-auto max-w-7xl pb-6 hidden">
                <div
                    class="flex flex-col xl:flex-row jusitfy-center items-stretch w-full xl:space-x-8 space-y-4 md:space-y-6 xl:space-y-0">
                    <div class="flex flex-col justify-start items-start w-full space-y-4 md:space-y-6 xl:space-y-8">
                        <div
                            class="flex flex-col justify-start items-start  bg-gray-50 px-4 py-4 md:py-6 md:p-6 xl:p-8 w-full">
                            <p class="text-lg md:text-xl  font-semibold leading-6 xl:leading-5 text-gray-800">
                                Your Orders</p>
                            {% if orders %}
                            {% for order in orders %}
                            <div
                                class="mt-4 md:mt-6 flex flex-col md:flex-row justify-start items-start md:items-center md:space-x-6 xl:space-x-8 w-full">
                                <div class="pb-4 md:pb-8 w-full md:w-40">
                                    <img class="w-full hidden md:block rounded-md" src="{{orders[order]['image']}}"
                                        alt="dress" />
                                    <img class="w-full md:hidden rounded-md" src="{{orders[order]['image']}}"
                                        alt="dress" />
                                </div>
                                <div
                                    class="border-b border-gray-200 md:flex-row flex-col flex justify-between items-start w-full pb-8 space-y-4 md:space-y-0">
                                    <div class="w-full flex flex-col justify-start items-start space-y-8">
                                        <h3 class="text-xl xl:text-2xl font-semibold leading-6 text-gray-800 hover:text-gray-600">
                                            <a href="{{orders[order]['product_url']}}">{{orders[order]['name']|title()}}</a>
                                        </h3>
                                        <div class="flex justify-start items-start flex-col space-y-2">
                                            <p class="text-base  leading-none text-gray-800"><span
                                                    class=" text-gray-500">Category: </span> <strong>{{orders[order]['category']|upper()}}</strong></p>
                                        </div>
                                    </div>
                                    <div class="space-x-8 w-full flex justify-between flex-col">
                                        <div class="flex justify-between items-start">
                                            <p class="text-base  xl:text-lg leading-6 text-gray-800">Qty. {{orders[order]['quantity']}}</p>
                                            <p class="text-base  xl:text-lg font-semibold leading-6 text-gray-800">
                                                Rs. {{orders[order]['price']}}</p>
                                        </div>
                                        <button class="text-right mt-8">Cancel</button>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                            {% else %}
                            <p>Products Not Found</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <!-- ACCOUNT -->
            <div class=" bg-gray-100 shadow sm:rounded-lg hidden">
                <div class="px-4 py-5 sm:px-6">
                    <h3 class="text-lg font-medium leading-6 text-gray-900">Applicant Information</h3>
                    <p class="mt-1 max-w-2xl text-sm text-gray-500">Personal details and application.</p>
                </div>
                <div class="border-t border-gray-200">
                    {% if user %}
                    <dl>
                        {% for key in user %}
                        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                            <dt class="text-sm font-medium text-gray-500 uppercase">{{key}}</dt>
                            <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">{{user[key]}}</dd>
                        </div>
                        {% endfor %}
                    </dl>
                    {% else %}
                    <p>No User Found</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</main>
<!--/ MAIN SECTION  -->

<script src="{{url_for('static', filename='assets/js/users.js')}}"></script>
{% endblock %}